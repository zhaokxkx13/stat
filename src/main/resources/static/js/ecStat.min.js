!function(r,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.ecStat=n():r.ecStat=n()}(this,function(){return function(r){function n(o){if(t[o])return t[o].exports;var e=t[o]={i:o,l:!1,exports:{}};return r[o].call(e.exports,e,e.exports,n),e.l=!0,e.exports}var t={};return n.m=r,n.c=t,n.i=function(r){return r},n.d=function(r,t,o){n.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(t,"a",t),t},n.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},n.p="",n(n.s=12)}([function(r,n,t){var o;o=function(r){function n(r){for(var n=[];o(r);)n.push(r.length),r=r[0];return n}function o(r){return"[object Array]"===i.call(r)}function e(r,n){for(var t=[],o=0;o<r;o++){t[o]=[];for(var e=0;e<n;e++)t[o][e]=0}return t}function a(r){for(var n=0,t=0;t<r.length;t++)n+=r[t];return n}function u(r,n){for(var t=0,o=0;o<r.length;o++)t+=r[o][n];return t}var i=(t(1),Object.prototype.toString);return{size:n,isArray:o,zeros:e,sum:a,sumOfColumn:u}}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){function n(r){return"number"==typeof r&&!isNaN(r)}function t(r){return isFinite(r)&&r===Math.round(r)}return{isNumber:n,isInteger:t}}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){function n(r){if(!e(r))throw new Error("Invalid data type, you should input an array");for(var n=[],t=a(r),o=0;o<t[0];o++){for(var u=!0,f=0;f<t[1];f++)i(r[o][f])||(u=!1);u&&n.push(r[o])}return n}var o=t(0),e=o.isArray,a=o.size,u=t(1),i=u.isNumber;return n}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){return{clustering:t(4),regression:t(5),statistic:t(6)}}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){function n(r,n){for(var t,e,i,f,l=s(r),v=h(l[0],2),c=a(r,n),p=!0;p;){p=!1;for(var g=0;g<l[0];g++){t=1/0,e=-1;for(var y=0;y<n;y++)i=u(r[g],c[y]),i<t&&(t=i,e=y);v[g][0]!==e&&(p=!0),v[g][0]=e,v[g][1]=d(t,2)}for(var g=0;g<n;g++){f=[];for(var y=0;y<v.length;y++)v[y][0]===g&&f.push(r[y]);c[g]=o(f)}}var x={centroids:c,clusterAssigned:v};return x}function o(r){for(var n,t,o=s(r),e=[],a=0;a<o[1];a++){n=0;for(var u=0;u<o[0];u++)n+=r[u][a];t=n/o[0],e.push(t)}return e}function e(r,t,e){function a(){if(I<t){m=1/0;for(var r,o,e,a=0;a<x.length;a++){w=[],b=[];for(var u=0;u<g.length;u++)g[u][0]===a?w.push(c[u]):b.push(g[u][1]);A=n(w,2),E=l(A.clusterAssigned,1),N=v(b),E+N<m&&(m=N+E,r=a,o=A.centroids,e=A.clusterAssigned)}for(var u=0;u<e.length;u++)0===e[u][0]?e[u][0]=r:1===e[u][0]&&(e[u][0]=x.length);for(x[r]=o[0],x.push(o[1]),u=0,a=0;u<g.length&&a<e.length;u++)g[u][0]===r&&(g[u][0]=e[a][0],g[u][1]=e[a++][1]);for(var i=[],u=0;u<x.length;u++){i[u]=[];for(var a=0;a<g.length;a++)g[a][0]===u&&i[u].push(c[a])}j.clusterAssment=g,j.centroids=x,j.pointsInCluster=i,I++}else j.isEnd=!0;return j}for(var f,c=i(r),p=s(c),g=h(p[0],2),y=o(c),x=[y],M=0;M<p[0];M++)f=u(c[M],y),g[M][1]=d(f,2);var m,w,b,A,E,N,I=1,j={isEnd:!1},O={next:a};if(e)return O;for(var j;!(j=O.next()).isEnd;);return j}function a(r,n){for(var t,o,e,a=s(r),u=h(n,a[1]),i=0;i<a[1];i++){t=r[0][i],o=r[0][i];for(var f=1;f<a[0];f++)r[f][i]<t&&(t=r[f][i]),r[f][i]>o&&(o=r[f][i]);e=o-t;for(var f=0;f<n;f++)u[f][i]=t+e*Math.random()}return u}function u(r,n){if(!c(r)&&!c(n))return p(d(r-n,2));for(var t=0,o=0;o<r.length;o++)t+=d(r[o]-n[o],2);return p(t)}var i=t(2),f=t(0),s=f.size,l=f.sumOfColumn,v=f.sum,h=f.zeros,c=f.isArray,p=Math.sqrt,d=Math.pow;return{kMeans:n,hierarchicalKMeans:e}}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){function n(r,n){for(var t=0;t<r.length-1;t++){for(var o=t,e=t+1;e<r.length-1;e++)Math.abs(r[t][e])>Math.abs(r[t][o])&&(o=e);for(var a=t;a<r.length;a++){var u=r[a][t];r[a][t]=r[a][o],r[a][o]=u}for(var i=t+1;i<r.length-1;i++)for(var f=r.length-1;f>=t;f--)r[f][i]-=r[f][t]/r[t][t]*r[t][i]}for(var s=Array(n),l=r.length-1,e=r.length-2;e>=0;e--){for(var u=0,t=e+1;t<r.length-1;t++)u+=r[t][e]*s[t];s[e]=(r[l][e]-u)/r[e][e]}return s}var o=(t(0),t(2)),e={linear:function(r){for(var n=o(r),t=0,e=0,a=0,u=0,i=n.length,f=0;f<i;f++)t+=n[f][0],e+=n[f][1],a+=n[f][0]*n[f][1],u+=n[f][0]*n[f][0];for(var s=(i*a-t*e)/(i*u-t*t),l=e/i-s*t/i,v=[],h=0;h<n.length;h++){var c=[n[h][0],s*n[h][0]+l];v.push(c)}var p="y = "+Math.round(100*s)/100+"x + "+Math.round(100*l)/100;return{points:v,parameter:{gradient:s,intercept:l},expression:p}},linearThroughOrigin:function(r){for(var n=o(r),t=0,e=0,a=0;a<n.length;a++)t+=n[a][0]*n[a][0],e+=n[a][0]*n[a][1];for(var u=e/t,i=[],f=0;f<n.length;f++){var s=[n[f][0],n[f][0]*u];i.push(s)}var l="y = "+Math.round(100*u)/100+"x";return{points:i,parameter:{gradient:u},expression:l}},exponential:function(r){for(var n=o(r),t=0,e=0,a=0,u=0,i=0,f=0,s=0;s<n.length;s++)t+=n[s][0],e+=n[s][1],f+=n[s][0]*n[s][1],a+=n[s][0]*n[s][0]*n[s][1],u+=n[s][1]*Math.log(n[s][1]),i+=n[s][0]*n[s][1]*Math.log(n[s][1]);for(var l=e*a-f*f,v=Math.pow(Math.E,(a*u-f*i)/l),h=(e*i-f*u)/l,c=[],p=0;p<n.length;p++){var d=[n[p][0],v*Math.pow(Math.E,h*n[p][0])];c.push(d)}var g="y = "+Math.round(100*v)/100+"e^("+Math.round(100*h)/100+"x)";return{points:c,parameter:{coefficient:v,index:h},expression:g}},logarithmic:function(r){for(var n=o(r),t=0,e=0,a=0,u=0,i=0;i<n.length;i++)t+=Math.log(n[i][0]),e+=n[i][1]*Math.log(n[i][0]),a+=n[i][1],u+=Math.pow(Math.log(n[i][0]),2);for(var f=(i*e-a*t)/(i*u-t*t),s=(a-f*t)/i,l=[],v=0;v<n.length;v++){var h=[n[v][0],f*Math.log(n[v][0])+s];l.push(h)}var c="y = "+Math.round(100*s)/100+" + "+Math.round(100*f)/100+"ln(x)";return{points:l,parameter:{gradient:f,intercept:s},expression:c}},polynomial:function(r,t){var e=o(r);"undefined"==typeof t&&(t=2);for(var a=[],u=[],i=t+1,f=0;f<i;f++){for(var s=0,l=0;l<e.length;l++)s+=e[l][1]*Math.pow(e[l][0],f);u.push(s);for(var v=[],h=0;h<i;h++){for(var c=0,p=0;p<e.length;p++)c+=Math.pow(e[p][0],f+h);v.push(c)}a.push(v)}a.push(u);for(var d=n(a,i),g=[],f=0;f<e.length;f++){for(var y=0,l=0;l<d.length;l++)y+=d[l]*Math.pow(e[f][0],l);g.push([e[f][0],y])}for(var x="y = ",f=d.length-1;f>=0;f--)x+=f>1?Math.round(d[f]*Math.pow(10,f+1))/Math.pow(10,f+1)+"x^"+f+" + ":1===f?Math.round(100*d[f])/100+"x + ":Math.round(100*d[f])/100;return{points:g,parameter:d,expression:x}}},a=function(r,n,t){return e[r](n,t)};return a}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){var n={};return n.max=t(7),n.mean=t(8),n.median=t(9),n.min=t(10),n.sum=t(11),n}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){function n(r){if(!e(r))throw new Error("Invalid data type, you should input an array");for(var n=-(1/0),t=0;t<r.length;t++)u(r[t])&&r[t]>n&&(n=r[t]);return n}var o=t(0),e=o.isArray,a=t(1),u=a.isNumber;return n}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){function n(r){if(!e(r))throw new Error("Invalid data type, you should input an array");for(var n=0,t=r.length,o=0;o<t;o++)u(r[o])&&(n+=r[o]);return n/t}var o=t(0),e=o.isArray,a=t(1),u=a.isNumber;return n}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){function n(r){if(!e(r))throw new Error("Invalid data type, you should input an array");for(var n=[],t=r.length,o=0;o<t;o++)u(r[o])&&n.push(r[o]);n.sort(function(r,n){return r-n});var a;if(t%2===0){var i=t/2;a=(n[i]+n[i+1])/2}else{var f=(t+1)/2;a=n[f]}return a}var o=t(0),e=o.isArray,a=t(1),u=a.isNumber;return n}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){function n(r){if(!e(r))throw new Error("Invalid data type, you should input an array");for(var n=1/0,t=0;t<r.length;t++)u(r[t])&&r[t]<n&&(n=r[t]);return n}var o=t(0),e=o.isArray,a=t(1),u=a.isNumber;return n}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){var o;o=function(r){function n(r){if(!e(r))throw new Error("Invalid data type, you should input an array");for(var n=0,t=0;t<r.length;t++)u(r[t])&&(n+=r[t]);return n}var o=t(0),e=o.isArray,a=t(1),u=a.isNumber;return n}.call(n,t,n,r),!(void 0!==o&&(r.exports=o))},function(r,n,t){r.exports=t(3)}])});